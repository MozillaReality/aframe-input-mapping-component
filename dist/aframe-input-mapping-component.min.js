!function(n){function e(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return n[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerSystem("input-mapping",{schema:{},mappings:{},mappingsPerControllers:{},currentMapping:"default",multiple:!1,init:function(){AFRAME.DEFAULT_INPUT_MAPPINGS&&this.registerMappings(AFRAME.DEFAULT_INPUT_MAPPINGS);var n=this;this.sceneEl.addEventListener("controllerconnected",function(e){if(!n.mappings)return void console.warn("controller-mapping: No mappings defined");n.mappingsPerControllers[p]||(n.mappingsPerControllers[p]={});var t=n.mappingsPerControllers[p];for(var i in n.mappings){var r=n.mappings[i],p=e.detail.name,a=r[p];if(!a)return void console.warn("controller-mapping: No mappings defined for controller type: ",p);for(var o in a){var r=a[o];t[o]||(t[o]={}),t[o][i]=r}}for(var o in t)n.sceneEl.addEventListener(o,function(i){var r=t[i.type],p=r[n.currentMapping]?r[n.currentMapping]:r.default;p&&e.detail.target.emit(p,i.detail)})});var n=this,e=this.sceneEl;document.addEventListener("keyup",function(t){var i=n.mappings[n.currentMapping];if(i&&i.keyboard){i=i.keyboard;var r=i[t.key+"_up"];r&&e.emit(r)}})},update:function(n){},remove:function(){},pause:function(){},play:function(){},registerMappings:function(n){this.mappings=n},getActiveMapping:function(){return this.currentMapping},setActiveMapping:function(n){this.mappings[n]?this.currentMapping=n:console.warn("aframe-input-mapping-component: Trying to activate a mapping that doesn't exist:",n)}}),AFRAME.registerMappings=function(n){AFRAME.scenes[0].sceneEl.systems["input-mapping"].registerMappings(n)}}]);