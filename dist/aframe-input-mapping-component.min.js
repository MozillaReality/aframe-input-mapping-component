!function(n){function e(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return n[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerSystem("input-mapping",{schema:{},mappings:{},mappingsPerControllers:{},currentMapping:"default",multiple:!1,init:function(){AFRAME.DEFAULT_INPUT_MAPPINGS&&this.registerMappings(AFRAME.DEFAULT_INPUT_MAPPINGS);var n=this;this.sceneEl.addEventListener("controllerconnected",function(e){if(!n.mappings)return void console.warn("controller-mapping: No mappings defined");n.mappingsPerControllers[p]||(n.mappingsPerControllers[p]={});var t=n.mappingsPerControllers[p];for(var r in n.mappings){var i=n.mappings[r],p=e.detail.name,a=i[p];if(!a)return void console.warn("controller-mapping: No mappings defined for controller type: ",p);for(var o in a){var i=a[o];t[o]||(t[o]={}),t[o][r]=i}}for(var o in t)n.sceneEl.addEventListener(o,function(r){var i=t[r.type],p=i[n.currentMapping]?i[n.currentMapping]:i.default;p&&e.detail.target.emit(p,r)})});var n=this,e=this.sceneEl;document.addEventListener("keyup",function(t){var r=n.mappings[n.currentMapping];if(r&&r.keyboard){r=r.keyboard;var i=r[t.key+"_up"];i&&e.emit(i)}})},update:function(n){},remove:function(){},pause:function(){},play:function(){},registerMappings:function(n){this.mappings=n},getActiveMapping:function(){return this.currentMapping},setActiveMapping:function(n){this.mappings[n]?this.currentMapping=n:console.warn("aframe-input-mapping-component: Trying to activate a mapping that doesn't exist:",n)}}),AFRAME.registerMappings=function(n){AFRAME.scenes[0].sceneEl.systems["input-mapping"].registerMappings(n)}}]);